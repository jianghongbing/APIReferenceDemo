## GCD - Grand Central Dispatch 
### DispatchQueue 
DispatchQueue:派发队列,以FIFO的顺序来队列中的任务
#### DispatchQueue的种类
1. 主队列:在app开始的时候就创建,一般用于处理UI相关的事件,伴随整个app的声明周期,主队列是一个串行队列
2. 全局并行队列:系统提供的并发队列,不用开发者创建,直接获取即可,使用相对方便
3. 串行队列:添加到串行队列中的任务一个接一个执行,不能同时执行多个任务.
4. 并行队列:可以同时执行多个任务
#### DispatchQueue执行任务的方式
* 异步执行任务:不需要等待返回,即可执行器后面的代码
1. 串行队列的异步执行:最多开启一条额外的线程执行任务,主队列貌似不会开始新的线程执行任务(任然在主线程中执行任务),开发者创建的串行队列可以开启一条线程执行任务
2. 并行队列的异步执行:可以开启多条线程同时执行多个任务,具体开启线程的数目取决于系统和cpu
* 同步执行任务:需要等待返回,才能执行后面的代码,常用于处理数据竞争的情况(多条线程访问某个数据,确保数据的安全性)
1. 不同队列是串行的还是并行的,都不会开启额外的线程执行任务,在当前线程中一个接一个任务的执行,同步执行任务会产生死锁的现象
#### Dispatch Group: 队列组
队列组的功能: 可以将不同队列中的任务添加到队列组中,监听被添加到队列组中的任务的完成情况,通过dispatch_group_notify函数对任务完成后作出的响应
常用到的场景就是需要等到某些任务完成后,在处理某个任务
#### GCD中常用到的函数的说明
1. dispatch_once: 在整个app的声明周期中确保其代码执行一次,并且是线程安全的.常用于单例的构建
2. dispatch_after: 延迟某个时间执行执行任务,本质是在某个时间后,将任务添加到队列中,block的执行过程是瞬间的
3. dispatch_barrier: 要barrier block中的任务,必须等待在其前面添加的任务执行完成,在其后面的后面需要等到barrier的任务执行完成后,才能执行
4. dispatch_source_timer: 定时器,提供类似NSTimer的功能,相对来说精确度更高,注意timer的循环引用
5. dispatch_apply: 当需要执行一个任务多次时,可使用该函数来实现,可以通过该函数实现一个更搞笑的for循环
6. dispatch_set_target_queue: 具有让某个queue和targetqueue优先级相同和让某个queue使用target queue的任务执行方式
7. dispatch_semaphore_t: 信号量,类似于过马路的红路灯,红灯禁止通行,需要等待,等到绿灯亮了,放行.常用于控制线程对数据的访问,保护数据的安全,如(当多个线程去修改同一份数据,可能产生数据错误的问题以及产生异常的问题,可以通过dispatch_semapore来解决该问题
* dispatch_semaphore_wait: 等待当前semaphore,并将semaphore的值减1,如果减1后的semanphore的value的值大于等于0,该函数立即返回,则可以执行下面的代码,如果小于0,如果没有超过所指定的time,则一直等待信号的到来,才执行下面的代码,否则不会执行后面的代码,如果超过指定的时间,也会执行无论信号的值为多少,都会执行后面的代码
* dispatch_semaphore_signal: 发送信号,semaphore的value加1



